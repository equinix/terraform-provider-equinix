---
subcategory: "Fabric"
---

# equinix_fabric_stream_subscription (Resource)

Fabric V4 API compatible resource allows creation and management of Equinix Fabric Stream Subscriptions

Additional Documentation:
* Getting Started: https://docs.equinix.com/en-us/Content/KnowledgeCenter/Fabric/GettingStarted/Integrating-with-Fabric-V4-APIs/IntegrateWithSink.htm
* API: https://developer.equinix.com/catalog/fabricv4#tag/Stream-Subscriptions

## Example Usage

```terraform
resource "equinix_fabric_stream_subscription" "SPLUNK" {
  type        = "STREAM_SUBSCRIPTION"
  name        = "<name>"
  description = "<description>"
  stream_id   = "<stream_id>"
  enabled     = true
  filters = [{
    property = "/type"
    operator = "LIKE"
    values = [
      "equinix.fabric.connection%"
    ]
  }]
  event_selector = {
    include = ["equinix.fabric.connection.*"]
  }
  metric_selector = {
    include = ["equinix.fabric.connection.*"]
  }
  sink = {
    type = "SPLUNK_HEC"
    uri  = "<splunk_uri>"
    settings = {
      event_index  = "<splunk_event_index>"
      metric_index = "<splunk_metric_index>"
      source       = "<splunk_source>"
    }
    credential = {
      type         = "ACCESS_TOKEN"
      access_token = "<splunk_access_token>"
    }
  }
}

resource "equinix_fabric_stream_subscription" "SLACK" {
  type        = "STREAM_SUBSCRIPTION"
  name        = "<name>"
  description = "<description>"
  stream_id   = "<stream_id>"
  enabled     = true
  sink = {
    type = "SLACK"
    uri  = "<slack_uri>"
  }
}

resource "equinix_fabric_stream_subscription" "PAGER_DUTY" {
  type        = "STREAM_SUBSCRIPTION"
  name        = "<name>"
  description = "<description>"
  stream_id   = "<stream_id>"
  enabled     = true
  sink = {
    type = "PAGERDUTY"
    host = "<pager_duty_host"
    settings = {
      transform_alerts = true
      change_uri       = "<pager_duty_change_uri>"
      alert_uri        = "<pager_duty_alert_uri>"
    }
    credential = {
      type            = "INTEGRATION_KEY"
      integration_key = "<pager_duty_integration_key>"
    }
  }
}

resource "equinix_fabric_stream_subscription" "DATADOG" {
  type        = "STREAM_SUBSCRIPTION"
  name        = "<name>"
  description = "<description>"
  stream_id   = "<stream_id>"
  enabled     = true
  sink = {
    type = "DATADOG"
    host = "<datadog_host>"
    settings = {
      source          = "Equinix"
      application_key = "<datadog_application_key>"
      event_uri       = "<datadog_event_uri>"
      metric_uri      = "<datadog_metric_uri>"
    }
    credential = {
      type    = "API_KEY"
      api_key = "<datadog_api_key>"
    }
  }
}

resource "equinix_fabric_stream_subscription" "MSTEAMS" {
  type        = "STREAM_SUBSCRIPTION"
  name        = "<name>"
  description = "<description>"
  stream_id   = "<stream_id>"
  enabled     = true
  sink = {
    type = "TEAMS"
    uri  = "<msteams_uri>"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `description` (String) Customer-provided stream subscription description
- `enabled` (Boolean) Stream subscription enabled status
- `name` (String) Customer-provided stream subscription name
- `sink` (Attributes) The details of the subscriber to the Equinix Stream (see [below for nested schema](#nestedatt--sink))
- `stream_id` (String) The uuid of the stream that is the target of the stream subscription
- `type` (String) Type of the stream subscription request

### Optional

- `event_selector` (Attributes) Lists of events to be included/excluded on the stream subscription (see [below for nested schema](#nestedatt--event_selector))
- `filters` (Attributes List) List of filters to apply to the stream subscription selectors. Maximum of 8. All will be AND'd together with 1 of the 8 being a possible OR group of 3 (see [below for nested schema](#nestedatt--filters))
- `metric_selector` (Attributes) Lists of metrics to be included/excluded on the stream subscription (see [below for nested schema](#nestedatt--metric_selector))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `change_log` (Attributes) Details of the last change on the stream resource (see [below for nested schema](#nestedatt--change_log))
- `href` (String) Equinix assigned URI of the stream subscription resource
- `id` (String) The unique identifier of the resource
- `state` (String) Value representing provisioning status for the stream resource
- `uuid` (String) Equinix assigned unique identifier of the stream subscription resource

<a id="nestedatt--sink"></a>
### Nested Schema for `sink`

Required:

- `type` (String) Type of the subscriber

Optional:

- `batch_enabled` (Boolean) Boolean switch enabling batch delivery of data
- `batch_size_max` (Number) Maximum size of the batch delivery if enabled
- `batch_wait_time_max` (Number) Maximum time to wait for batch delivery if enabled
- `credential` (Attributes) Access details for the specified sink type (see [below for nested schema](#nestedatt--sink--credential))
- `host` (String) Known hostname of certain data stream subscription products. Not to be confused with a variable URI
- `settings` (Attributes) Stream subscription sink settings (see [below for nested schema](#nestedatt--sink--settings))
- `uri` (String) Publicly reachable http endpoint destination for data stream

<a id="nestedatt--sink--credential"></a>
### Nested Schema for `sink.credential`

Required:

- `type` (String) Type of the credential being passed

Optional:

- `access_token` (String) Passed as Authorization header value
- `api_key` (String) Passed as Authorization header value
- `integration_key` (String) Passed as Authorization header value
- `password` (String) Passed as Authorization header value
- `username` (String) Passed as Authorization header value


<a id="nestedatt--sink--settings"></a>
### Nested Schema for `sink.settings`

Optional:

- `application_key` (String)
- `event_index` (String)
- `event_uri` (String)
- `metric_index` (String)
- `metric_uri` (String)
- `source` (String)



<a id="nestedatt--event_selector"></a>
### Nested Schema for `event_selector`

Required:

- `include` (List of String) List of events to include

Optional:

- `except` (List of String) List of events to exclude


<a id="nestedatt--filters"></a>
### Nested Schema for `filters`

Required:

- `operator` (String) Operation applied to the values of the filter
- `property` (String) Property to apply the filter to
- `values` (List of String) List of values to apply the operation to for the specified property

Optional:

- `or` (Boolean) Boolean value to specify if this filter is a part of the OR group. Has a maximum of 3 and only counts for 1 of the 8 possible filters


<a id="nestedatt--metric_selector"></a>
### Nested Schema for `metric_selector`

Required:

- `include` (List of String) List of metrics to include

Optional:

- `except` (List of String) List of metrics to exclude


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--change_log"></a>
### Nested Schema for `change_log`

Read-Only:

- `created_by` (String) User name of creator of the stream resource
- `created_by_email` (String) Email of creator of the stream resource
- `created_by_full_name` (String) Legal name of creator of the stream resource
- `created_date_time` (String) Creation time of the stream resource
- `deleted_by` (String) User name of deleter of the stream resource
- `deleted_by_email` (String) Email of deleter of the stream resource
- `deleted_by_full_name` (String) Legal name of deleter of the stream resource
- `deleted_date_time` (String) Deletion time of the stream resource
- `updated_by` (String) User name of last updater of the stream resource
- `updated_by_email` (String) Email of last updater of the stream resource
- `updated_by_full_name` (String) Legal name of last updater of the stream resource
- `updated_date_time` (String) Last update time of the stream resource
