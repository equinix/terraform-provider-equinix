---
layout: "equinix"
page_title: "Equinix: equinix_ecx_l2_serviceprofile"
sidebar_current: "docs-equinix-resource-ecx-l2-serviceprofile"
description: |-
  Provides an ECX L2 service profile resource.
---

# equinix_ecx_l2_serviceprofile

Resource `equinix_ecx_l2_serviceprofile` is used to manage layer 2 service profiles in Equinix Cloud Exchange (ECX) Fabric.

This resource relies on the Equinix Cloud Exchange Fabric API. The parameters
and attributes available map to the fields described at
<https://developer.equinix.com/catalog/sellerv3#operation/getProfileByIdOrNameUsingGET>.

## Example Usage

```hcl
resource "equinix_ecx_l2_serviceprofile" "private-profile" {
  bandwidth_alert_threshold          = 20.5
  oversubscription_allowed           = false
  connection_name_label              = "Connection"
  name                               = "private-profile"
  bandwidth_threshold_notifications  = ["John.Doe@example.com", "Marry.Doe@example.com"]
  profile_statuschange_notifications = ["John.Doe@example.com", "Marry.Doe@example.com"]
  vc_statuschange_notifications      = ["John.Doe@example.com", "Marry.Doe@example.com"]
  oversubscription                   = "1x"
  private                            = true
  private_user_emails                = ["John.Doe@example.com", "Marry.Doe@example.com"]
  redundancy_required                = false
  tag_type                           = "CTAGED"
  secondary_vlan_from_primary        = false
  features {
    cloud_reach  = true
    test_profile = false
  }
  port {
    uuid       = "a867f685-422f-22f7-6de0-320a5c00abdd"
    metro_code = "NY"
  }
  port {
    uuid       = "a867f685-4231-2317-6de0-320a5c00abdd"
    metro_code = "NY"
  }
  speed_band {
    speed      = 1000
    speed_unit = "MB"
  }
  speed_band {
    speed      = 500
    speed_unit = "MB"
  }
  speed_band {
    speed      = 100
    speed_unit = "MB"
  }
}
```

## Argument Reference

The following arguments are supported by `equinix_ecx_l2_serviceprofile` resource:

- `bandwidth_alert_threshold` - _(Required)_ specifies the port bandwidth threshold percentage. If the bandwidth limit is met or exceeded, an alert is sent to the seller
- `speed_customization_allowed` - _(Required)_ allow customer to enter a custom speed
- `oversubscription_allowed` - _(Optional)_ regardless of the utilization, the Equinix service will continue to add connections to your links until we reach the oversubscription limit. By selecting this service, you acknowledge that you will manage decisions on when to increase capacity on these links
- `api_integration` - _(Required)_ API integration allows you to complete connection provisioning in less than five minutes. Without API Integration, additional manual steps will be required and the provisioning will likely take longer
- `authkey_label` - _(Optional)_ the Authentication Key service allows Service Providers with QinQ ports to accept groups of connections or VLANs from Dot1q port customers. This is similar to S-Tag/C-Tag capabilities
- `connection_name_label` - _(Required)_ name of the connection
- `ctag_label` - _(Optional)_ C-Tag/Inner-Tag of the connection - A numeric character ranging from 2 to 4094
- `servicekey_autogenerated` - _(Optional)_ indicates whether multiple connections can be created with the same authorization key to connect to this service profile after the first connection has been approved by the seller
- `equinix_managed_port_vlan` - _(Required)_ only applicable if API available is set true. It indicates whether the port and VLAN details are managed by Equinix.
- `integration_id` - _(Optional)_ specifies the API integration ID that was provided to the customer during onboarding. You can validate your API integration ID using the validateIntegrationId API.
- `name` - _(Required)_ name of the service profile - An alpha-numeric 50 characters string which can include only hyphens and underscores ('-' & '\_').
- `bandwidth_threshold_notifications` - _(Required)_ an array of email ids you would like to notify when there are any updates on your connection
- `profile_statuschange_notifications` - _(Required)_ an array of email ids you would like to notify when there are any updates on your connection
- `vc_statuschange_notifications` - _(Required)_ an array of email ids you would like to notify when there are any updates on your connection
- `oversubscription` - _(Optional)_ you can set an alert for when a percentage of your profile has been sold. Service providers like to use this functionality to alert them when they need to add more ports or when they need to create a new service profile
- `private` - _(Required)_ indicates whether or not this is a private profile. If private, it can only be available for creating connections if correct permissions are granted (i.e. not public like AWS/Azure/Oracle/Google, etc.
- `private_user_emails` - _(Optional)_ an array of users email ids who have permission to access this service profile
- `redundancy_required` - _(Required)_ specify if your connections require redundancy. If yes, then users need to create a secondary redundant connection
- `speed_from_api` - \*(Required) derive speed from an API call
- `tag_type` - _(Optional)_ specifies additional tagging information required by the seller profile
- `secondary_vlan_from_primary` - _(Required)_ indicates whether the VLAN ID of the secondary connection is the same as the primary connection
- `features` - _(Required)_ contains feature-related information
- `cloud_reach` - _(Required)_ indicates whether or not connections to this profile can be created from remote metros
- `test_profile` - _(Required)_ indicates whether or not this profile can be used for test connections.
- `port` - _(Required)_ one or more definitions of ports residing in locations, from which your customers will be able to access services using given profile
  - `uuid` - _(Required)_ unique identifier of the port
  - `metro_code` - _(Required)_ the metro where the port resides
- `speed_band` - _(Required)_ one or more definitions of supported speed/bandwidth
  - `speed` - _(Required)_ The speed/bandwidth supported by this profile
  - `speed_unit` - _(Required)_ unit of the speed/bandwidth supported by this profile

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

- `uuid` - Unique identifier of the service profile
- `status` - Status of the service profile
